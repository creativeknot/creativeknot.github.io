<!DOCTYPE html><html lang="en" class="dark"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0"><meta name="theme-color" content="#1E3A8A"><link rel="preconnect" href="https://fonts.bunny.net"><link href="https://fonts.bunny.net/css?family=jetbrains-mono:200,200i|noto-sans:300,300i,700,700i|righteous:400" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer"><script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/persist@3.13.3/dist/cdn.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script><link rel="shortcut icon" type="image/ico" href="/favicon.ico"><title>Embedded development environment in Vim (2019) - Part 1 - CreativeNull</title><link rel="stylesheet" href="/_astro/index.yJnwpSTZ.css"><style>.frontpage-divider{background-image:linear-gradient(to left,transparent,#4a4a4a 50%,transparent)}
</style></head> <body class="dark:text-white dark:bg-dark-900 text-dark-900 bg-white"> <div class="font-noto">  <div class="min-h-screen"> <div class="app-header text-light-50 bg-dark-800 h-14 md:h-20 w-full flex items-center justify-between"> <div class="flex h-full space-x-4 pl-4"> <a x-data="{ toggleColors: false }" @mouseenter="toggleColors = !toggleColors" @mouseleave="toggleColors = !toggleColors" href="https://creativenull.dev" class="font-righteous flex md:text-2xl items-center"> <span id="app-logo-primary" class="transition-color duration-500" :class="{ 'text-light-900': !toggleColors, 'text-blue-600': toggleColors }"> Creative </span> <span id="app-logo-secondary" class="transition-color duration-500" :class="{ 'text-light-900': toggleColors, 'text-blue-600': !toggleColors }"> Null </span> </a> <nav class="h-full flex items-center justify-center md:text-xl"> <a target="_blank" class="h-full flex items-center justify-center font-bold transition-all duration-300 px-4 hover:bg-light-50 hover:text-dark-700" href="https://github.com/creativenull">
GitHub
</a> </nav> </div> <div class="pr-4"> <button x-data="{ darkMode: $persist(true), updateDocument() { this.darkMode ? document.documentElement.classList.add('dark') : document.documentElement.classList.remove('dark') } }" x-init="updateDocument()" @click="darkMode = !darkMode; updateDocument()" class="p-2 text-light-50 text-xl hover:text-sky-500"> <i class="fa-solid" :class="{ 'fa-sun': darkMode, 'fa-moon': !darkMode }"></i> </button> </div> </div> <div class="prose dark:prose-invert mx-auto px-4 pb-8 sm:px-0 sm:text-lg"> <div class="sm:text-center not-prose border-b border-b-gray-400 dark:border-b-gray-800 pb-4 px-4 my-8"> <h1 class="text-2xl sm:text-3xl lg:text-4xl"> Embedded development environment in Vim (2019) - Part 1 </h1> </div> <div class="border-l-emerald-500 dark:border-l-emerald-800 border-l border-l-10 py-2 px-2 md:my-8"> <h4 class="text-emerald-500 dark:text-emerald-800 capitalize m-0"> note </h4> <div class="text-xs md:text-base"> <p>This is a two part series on how my vim is setup for embedded systems development. The first part
shows what vim plugins I use and how I have them setup, while part two will cover the cmake
portion on setting up a build workflow and a template.</p> </div> </div>
<p>There has been a lot of tutorials on setting up vim for a Python/JavaScript/Java/C/C++ environment, but I did not find a variety of tutorials on how to setup a C/C++ environment for embedded development. I did, however, find one great post <a href="http://www.alexeyshmalko.com/2014/using-vim-as-c-cpp-ide/">written by Alexey</a> where he did explain how to setup for one. Although his post does a great job explaining, there were still some things missing that I want to add for my embedded development environment. Things that I wanted to work for my setup:</p>
<ul>
<li>Using <code>cmake</code> instead of <code>make</code>.</li>
<li>Build a custom gcc toolchain for specific boards.</li>
<li>Have an all-in-one solution package that features IDE-like tools like linting, auto-completion, goto definition, etc.</li>
</ul>
<p>So after a bit of digging and a lot of frustration on how limited resources there were, I finally found some useful resources that I was able to put together and have it working. Here are my findings and how I was able to get myself up and running for my requirements. The development board I will be using is the TI TM4C129EXL microcontroller, but the steps on setup is very similiar for other microcontrollers like other TI, STM manufacturers. Here is a picture.</p>
<img class="mx-auto" width="100%" src="http://image.itmedia.co.jp/edn/articles/1509/27/ts150925_TI01.jpg"/>
<p>So the things to install (this might differ since my setup is on a Linux system):</p>
<ul>
<li><a href="https://neovim.io/">neovim</a> or <a href="https://www.vim.org/">vim8</a></li>
<li><strong>vim-plug</strong> - plugin manager | <a href="https://github.com/junegunn/vim-plug">link</a></li>
<li><strong>deoplete</strong> - auto-completion engine | <a href="https://github.com/Shougo/deoplete.nvim">link</a></li>
<li><strong>supertab</strong> - for tab completion, instead of using Ctrl+n and Ctrl+p | <a href="https://github.com/ervandew/supertab">link</a></li>
<li><strong>LanguageClient-neovim</strong> - LSP client for neovim, also works in vim | <a href="https://github.com/autozimu/LanguageClient-neovim">link</a></li>
<li><strong>clang</strong> - to get <code>clangd</code> which will be used as our LSP server backend | <a href="https://clang.llvm.org/">link</a></li>
<li><strong>cmake</strong> - build tool | <a href="https://cmake.org/">link</a></li>
<li><strong>arm-gcc-toolchain</strong> - C compiler for ARM boards | <a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads">link</a></li>
</ul>
<h2 id="vim---install-plugins">Vim - install plugins</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="vim"><code><span class="line"><span style="color:#F97583">call</span><span style="color:#B392F0"> plug#begin</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;~/.local/share/nvim/plugged&#39;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">&quot; Auto-completion</span></span>
<span class="line"><span style="color:#F97583">Plug</span><span style="color:#9ECBFF"> &#39;Shougo/deoplete.nvim&#39;</span><span style="color:#E1E4E8">, { </span><span style="color:#9ECBFF">&#39;do&#39;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&#39;:UpdateRemotePlugins&#39;</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#6A737D">&quot; Tab for auto-completion</span></span>
<span class="line"><span style="color:#F97583">Plug</span><span style="color:#9ECBFF"> &#39;ervandew/supertab&#39;</span></span>
<span class="line"><span style="color:#6A737D">&quot; Language client for a Language Server Protocol support</span></span>
<span class="line"><span style="color:#F97583">Plug</span><span style="color:#9ECBFF"> &#39;autozimu/LanguageClient-neovim&#39;</span><span style="color:#E1E4E8">, { </span><span style="color:#9ECBFF">&#39;branch&#39;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&#39;next&#39;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&#39;do&#39;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&#39;bash install.sh&#39;</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#6A737D">&quot; Fuzzy file finder</span></span>
<span class="line"><span style="color:#F97583">Plug</span><span style="color:#9ECBFF"> &#39;junegunn/fzf&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">call</span><span style="color:#B392F0"> plug#end</span><span style="color:#E1E4E8">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">&quot; Plugin and Indent enable</span></span>
<span class="line"><span style="color:#79B8FF">filetype</span><span style="color:#E1E4E8"> plugin indent on</span></span>
<span class="line"></span></code></pre>
<p>Next, we reload vim and execute command <code>:PlugInstall</code> to install the plugins, and reloading vim should load our plugins.</p>
<h3 id="plugin-configs-and-key-bindings">Plugin configs and key bindings</h3>
<p>Now we add our global configs for our plugins. We want to make sure deoplete starts by default, supertab has an issue where it will tab complete from the bottom-top (although this is a feature in supertab) I like my tab completion from the top-bottom. Next we add our config for LanguageClient-neovim, the LSP server I will be using is <code>clangd</code>. The only binding I use is the goto definition, but you can add other bindings for LanguageClient-neovim more can found on their github repo.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="vim"><code><span class="line"><span style="color:#6A737D">&quot; --- Deoplete Options ---</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> g:deoplete#enable_at_startup</span><span style="color:#F97583">=</span><span style="color:#79B8FF">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">&quot; --- SuperTab Options ---</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> g:SuperTabDefaultCompletionType</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&#39;&lt;C-n&gt;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">&quot; --- LanguageClient Options ---</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> g:LanguageClient_serverCommands</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">	\</span><span style="color:#9ECBFF"> &#39;c&#39;</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">&#39;clangd&#39;</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#F97583">	\</span><span style="color:#9ECBFF"> &#39;cpp&#39;</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">&#39;clangd&#39;</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#F97583">	\</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">&quot; LanguageClient bindings</span></span>
<span class="line"><span style="color:#F97583">nnoremap</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#79B8FF">F5</span><span style="color:#E1E4E8">&gt; :</span><span style="color:#F97583">call</span><span style="color:#B392F0"> LanguageClient_contextMenu</span><span style="color:#E1E4E8">()&lt;</span><span style="color:#79B8FF">CR</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#F97583">nnoremap</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#79B8FF">silent</span><span style="color:#E1E4E8">&gt; </span><span style="color:#79B8FF">gd</span><span style="color:#E1E4E8"> :</span><span style="color:#F97583">call</span><span style="color:#B392F0"> LanguageClient#textDocument_definition</span><span style="color:#E1E4E8">()&lt;</span><span style="color:#79B8FF">CR</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span></code></pre>
<p>This should be it on the vim side of things. In the next part I will show my setup of cmake and a template I usually use for developing for the TM4C microcontroller - which is just a blank template from their website but very helpful. Stay tuned for more.</p> <div class="not-prose font-jetbrains text-sm border-t border-t-gray-400 dark:border-t-gray-800 space-y-2 pt-8"> <div>author = "Arnold Chand"</div> <div>publishDate = 08/02/2019, 04:00</div> <div>categories = [&quot;Guide&quot;]</div> <div>tags = [&quot;vim&quot;, &quot;neovim&quot;]</div> </div> </div> </div> <div class="frontpage-divider h-[1px]"></div> <div class="h-[100px] flex flex-col justify-center items-center gap-2 px-4"> <div class="flex gap-2"> <span>
2020 - 2024 Arnold Chand (creativenull)
</span> <div class="flex items-center gap-2"> <a href="https://twitter.com/creativenu11"> <svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 256 209"><path fill="#55acee" d="M256 25.45a105.04 105.04 0 0 1-30.166 8.27c10.845-6.5 19.172-16.793 23.093-29.057a105.183 105.183 0 0 1-33.351 12.745C205.995 7.201 192.346.822 177.239.822c-29.006 0-52.523 23.516-52.523 52.52c0 4.117.465 8.125 1.36 11.97c-43.65-2.191-82.35-23.1-108.255-54.876c-4.52 7.757-7.11 16.78-7.11 26.404c0 18.222 9.273 34.297 23.365 43.716a52.312 52.312 0 0 1-23.79-6.57c-.003.22-.003.44-.003.661c0 25.447 18.104 46.675 42.13 51.5a52.592 52.592 0 0 1-23.718.9c6.683 20.866 26.08 36.05 49.062 36.475c-17.975 14.086-40.622 22.483-65.228 22.483c-4.24 0-8.42-.249-12.529-.734c23.243 14.902 50.85 23.597 80.51 23.597c96.607 0 149.434-80.031 149.434-149.435c0-2.278-.05-4.543-.152-6.795A106.748 106.748 0 0 0 256 25.45"></path></svg> </a> <a rel="me" href="https://mastodon.online/@creativenull"> <svg xmlns="http://www.w3.org/2000/svg" width="22" viewBox="0 0 256 274"><path fill="#3088D4" d="M249.874 164.085c-3.753 19.307-33.613 40.438-67.908 44.533c-17.883 2.134-35.49 4.095-54.266 3.234c-30.705-1.407-54.933-7.33-54.933-7.33c0 2.99.184 5.836.553 8.498c3.992 30.302 30.047 32.118 54.728 32.964c24.912.852 47.094-6.142 47.094-6.142l1.023 22.521s-17.425 9.357-48.465 11.078c-17.116.94-38.369-.43-63.122-6.983c-53.686-14.21-62.92-71.436-64.332-129.502c-.43-17.24-.165-33.497-.165-47.094c0-59.375 38.903-76.779 38.903-76.779C58.6 4.074 92.259.286 127.25 0h.86c34.991.286 68.673 4.074 88.287 13.083c0 0 38.901 17.404 38.901 76.78c0 0 .488 43.807-5.425 74.222"></path><path fill="#FFF" d="M209.413 94.469v71.894H180.93V96.582c0-14.71-6.19-22.176-18.57-22.176c-13.687 0-20.547 8.857-20.547 26.37v38.195h-28.315v-38.195c0-17.513-6.862-26.37-20.55-26.37c-12.379 0-18.568 7.466-18.568 22.176v69.78H45.897V94.47c0-14.694 3.741-26.37 11.256-35.009c7.75-8.638 17.898-13.066 30.496-13.066c14.575 0 25.613 5.602 32.911 16.808l7.095 11.893l7.096-11.893c7.296-11.206 18.334-16.808 32.911-16.808c12.597 0 22.745 4.428 30.496 13.066c7.513 8.639 11.255 20.315 11.255 35.009"></path></svg> </a> </div> </div> <div> <a href="https://astro.build" target="_blank" class="text-blue-700 font-bold underline hover:no-underline dark:text-blue-500">
astro.build
</a>
+
<a href="https://alpinejs.dev" target="_blank" class="text-blue-700 font-bold underline hover:no-underline dark:text-blue-500">
alpinejs.dev
</a>
+
<a href="https://unocss.dev" target="_blank" class="text-blue-700 font-bold underline hover:no-underline dark:text-blue-500">
unocss.dev
</a>
&equals; ♥
</div> </div>   </div> </body></html>